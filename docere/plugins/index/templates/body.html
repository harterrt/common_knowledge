<h1 style="margin-top:6rem">Report Index</h1>

<table class="u-full-width">
  <thead>
    <tr>
      <th>
        Title
      </th>
      <th>
        Author
      </th>
      <th>
        Publish Date
      </th>
  </thead>
  <!-- check the syntax for inserting an empty list to append content to -->
  <!-- this is mock code and it's not expected to work right now -->
<!-- { % tag_list = list()} -->
<!-- { % topic_list = list()} -->
{% set tag_list = [] %}
{% set topic_list = [] %}
{% for report in reports|sort(attribute='publish_date', reverse=True) %}
  {{ tag_list.append(report['tags']) if report['tags'] }}
  {{ topic_list.append(report['topics']) if report['tags'] }}
  <tbody>
    <tr>
      <td>
        <a href="{{report.path}}">{{report.title}}</a>
        <a name="{{ slugify(report) }}" href="#{{ slugify(report) }}"><img src="assets/link.svg" alt="anchor"></a>
      </td>
      <td>
        {{report.author}}{{ report.authors|join(', ') }}
      </td>
      <td>
        {{report.publish_date}}
      </td>
    </tr>
    {% if report.abstract %}
    <tr>
      <td colspan="3">
        {{report.abstract}}
      </td>
    </tr>
    {% endif %}
    <tr class="tag-tray">
      <td>
        <span class="tag-label">Product:</span><br>
        {{ (report.product or ["None"]) | join(",") }}
      </td>
      <td>
        <span class="tag-label">Area:</span><br>
        {{ (report.area or ["None"]) | join(",") }}
      </td>
      <td>
        <span class="tag-label">Artifact:</span><br>
        {{report.artifact}}
      </td>
    </tr>
  </tbody>
{% endfor %}
<!-- give buttons a class name and use CSS to manipulate -->
<tr class='tag_sidebar'>
  {% for tag in tag_list %}
  <button>
    {{'tag'}}
  </button>
  {% endfor %}
</tr>
<tr class='topic_sidebar'>
  {% for topic in topic_list %}
  <button>{{'topic'}}</button>
  {% endfor %}
</tr>